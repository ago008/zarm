webpackJsonp([18],{179:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(n(353),n(355)),a=(n(202),n(203)),r=(n(198),n(199)),i=n(45),s=n.n(i),c=n(46),u=n.n(c),l=n(47),f=n.n(l),m=n(48),p=n.n(m),d=n(49),h=n.n(d),v=n(0),g=n.n(v),D=n(196),E=n(201),C=n(197),k=function(t){function e(){return u()(this,e),p()(this,(e.__proto__||s()(e)).apply(this,arguments))}return h()(e,t),f()(e,[{key:"render",value:function(){return g.a.createElement(D.a,{className:"swipeAction-page"},g.a.createElement(E.a,{title:"滑动操作 SwipeAction"}),g.a.createElement("main",null,g.a.createElement(r.a,null,g.a.createElement(r.a.Header,{title:"基本"}),g.a.createElement(r.a.Body,null,g.a.createElement(o.a,{right:[{theme:"error",text:"右按钮1",onClick:function(){return console.log("右按钮1")}},{theme:"success",text:"右按钮2",onClick:function(){return console.log("右按钮2")}}]},g.a.createElement(a.a,null,"左滑看看")),g.a.createElement(o.a,{left:[{theme:"info",text:"左按钮1",onClick:function(){return console.log("左按钮1")}},{theme:"warning",text:"左按钮2",onClick:function(){return console.log("左按钮2")}}]},g.a.createElement(a.a,null,"右滑看看")),g.a.createElement(o.a,{autoClose:!0,left:[{theme:"info",text:"左按钮1",onClick:function(){return console.log("左按钮1")}},{theme:"warning",text:"左按钮2",onClick:function(){return console.log("左按钮2")}}],right:[{theme:"error",text:"右按钮1",onClick:function(){return console.log("右按钮1")}},{theme:"success",text:"右按钮2",onClick:function(){return console.log("右按钮2")}}],onOpen:function(){return console.log("open")},onClose:function(){return console.log("close")}},g.a.createElement(a.a,null,"左右都能滑动（自动关闭）"))))),g.a.createElement(C.a,null))}}]),e}(v.Component);e.default=k},353:function(t,e,n){"use strict";var o=(n(194),n(206),n(354));n.n(o)},354:function(t,e){},355:function(t,e,n){"use strict";var o=n(193),a=n.n(o),r=n(45),i=n.n(r),s=n(46),c=n.n(s),u=n(47),l=n.n(u),f=n(48),m=n.n(f),p=n(49),d=n.n(p),h=n(0),v=n.n(h),g=n(192),D=n.n(g),E=n(208),C=n(217),k=function(t){function e(t){c()(this,e);var n=m()(this,(e.__proto__||i()(e)).call(this,t));return n.isOpen=!1,n.touchEnd=!0,n.onDragStart=function(){if(n.isOpen)return n.touchEnd=!1,void n.close();n.touchEnd=!0},n.onDragMove=function(t,e){var o=e.offsetX,a=e.offsetY,r=n.props.disabled;if(n.touchEnd&&!r){var i=n.props.offset,s=n.state.offsetLeft,c=n.left&&n.left.offsetWidth,u=n.right&&n.right.offsetWidth;if(o>0&&(!c||s>=c+i)||o<0&&(!u||s<=-u-i))return!1;var l=Math.abs(o),f=Math.abs(a);return!(l<5||l>=5&&f>=.3*l)&&(t.preventDefault(),n.doTransition({offsetLeft:o,animationDuration:0}),!0)}},n.onDragEnd=function(t,e){var o=e.offsetX,a=e.startTime,r=n.props,i=r.animationDuration,s=r.moveDistanceRatio,c=r.moveTimeSpan,u=(new Date).getTime()-a.getTime(),l=n.left&&n.left.offsetWidth,f=n.right&&n.right.offsetWidth,m=0,p=!1;o/l>s||o>0&&u<=c?(m=l,p=!0):(o/f<-s||o<0&&u<=c)&&(m=-f,p=!0),p&&!n.isOpen?n.open(m):!p&&n.isOpen?n.close():n.doTransition({offsetLeft:m,animationDuration:i})},n.onBtnClick=function(t,e){t.preventDefault();var o=e.onClick;o&&o(t),n.props.autoClose&&n.close()},n.onCloseSwipe=function(t){if(n.wrap&&n.isOpen){(function(t){for(;t.parentNode&&t.parentNode!==document.body;){if(t===n.wrap)return t;t=t.parentNode}})(t.target)||(t.preventDefault(),n.touchEnd=!0,n.close())}},n.open=function(t){var e=n.props,o=e.animationDuration,a=e.onOpen;n.isOpen=!0,n.doTransition({offsetLeft:t,animationDuration:o}),"function"==typeof a&&a()},n.close=function(){var t=n.props,e=t.animationDuration,o=t.onClose;n.isOpen=!1,n.doTransition({offsetLeft:0,animationDuration:e}),"function"==typeof o&&o()},n.doTransition=function(t){var e=t.offsetLeft,o=t.animationDuration;n.setState({offsetLeft:e,animationDuration:o})},n.renderButton=function(t,e,o){var r=n.props.prefixCls,i=t.theme,s=t.className,c=t.text,u=D()(r+"-button",s,a()({},"theme-"+i,!0));return v.a.createElement("div",{key:+e,className:u,onClick:function(e){return n.onBtnClick(e,t)}},v.a.createElement("div",{className:r+"-text"},c||""+o+e))},n.renderButtons=function(t,e){var o=n.props.prefixCls;if(t&&0!==t.length)return v.a.createElement("div",{className:o+"-actions-"+e,ref:function(t){n[e]=t}},t.map(function(t,o){return n.renderButton(t,o,e)}))},n.state={offsetLeft:0},n}return d()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this;E.a.on(document.body,"touchstart",function(e){return t.onCloseSwipe(e)})}},{key:"componentWillUnmount",value:function(){var t=this;E.a.off(document.body,"touchstart",function(e){return t.onCloseSwipe(e)})}},{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,o=e.className,a=e.left,r=e.right,i=e.children,s=this.state,c=s.offsetLeft,u=s.animationDuration,l=D()(""+n,o),f={WebkitTransitionDuration:u+"ms",transitionDuration:u+"ms",WebkitTransform:"translate3d("+c+"px, 0, 0)",transform:"translate3d("+c+"px, 0, 0)"};return a||r?v.a.createElement("div",{className:l,ref:function(e){t.wrap=e}},this.renderButtons(a,"left"),this.renderButtons(r,"right"),v.a.createElement(C.a,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd},v.a.createElement("div",{className:n+"-content",style:f},i))):i}}]),e}(h.PureComponent);e.a=k,k.defaultProps={prefixCls:"za-swipeaction",left:[],right:[],moveDistanceRatio:.5,moveTimeSpan:300,animationDuration:300,offset:10}}});