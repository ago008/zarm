webpackJsonp([3],{247:function(e,t,a){"use strict";function n(){alert("执行 onBeforeSelect 方法")}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(293),a(294)),l=(a(394),a(396)),r=(a(272),a(273)),s=(a(331),a(333)),c=(a(279),a(278)),o=a(268),u=a.n(o),f=a(64),m=a.n(f),p=a(65),d=a.n(p),h=a(66),v=a.n(h),y=a(67),E=a.n(y),b=a(68),g=a.n(b),w=a(0),C=a.n(w),k=a(270),N=a(275),_=a(271),S=a(402),T=(a.n(S),5),x=function(e){function t(e){d()(this,t);var a=E()(this,(t.__proto__||m()(t)).call(this,e));return a.onSelectMulti=function(e){console.log(e);var t=a.state.multiFiles,n=a.state.toast;if(t=t.concat(e),t.length>T)return n.visible=!0,n.children="最多只能选择5张图片",void a.setState({toast:n});a.setState({multiFiles:t})},a.onSelect=function(e){console.log(e);var t=a.state.files;t.push(e),a.setState({files:t})},a.state={multiFiles:[],files:[],filesWithToast:[],allTypeFiles:{},toast:{visible:!1,onMaskClick:function(){var e=a.state.toast;e.visible=!1,a.setState({toast:e})}}},a}return g()(t,e),v()(t,[{key:"remove",value:function(e,t){var a,n=this.state[e],i=this.state.toast;n.splice(t,1),i.visible=!0,i.children="图片删除成功",this.setState({toast:i}),this.setState((a={},u()(a,e,n),u()(a,"toast",i),a))}},{key:"fileRender",value:function(e){var t=this;return this.state[e].map(function(a,n){return C.a.createElement(s.a,{sup:!0,className:"uploader-item",shape:"circle",text:C.a.createElement(c.a,{type:"wrong"}),key:+n,onClick:function(){return t.remove(e,+n)}},C.a.createElement("div",{className:"uploader-item-img"},C.a.createElement("a",{href:a.thumbnail,target:"_blank"},C.a.createElement("img",{src:a.thumbnail,alt:""}))))})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.multiFiles;return C.a.createElement(k.a,{className:"uploader-page"},C.a.createElement(N.a,{title:"上传组件 Uploader"}),C.a.createElement("main",null,C.a.createElement(r.a,null,C.a.createElement(r.a.Header,{title:"点击一次选择单张"}),C.a.createElement(r.a.Body,null,C.a.createElement("div",{className:"uploader-wrapper"},this.fileRender("files"),C.a.createElement(l.a,{className:"uploader-btn",accept:"image/*",onChange:this.onSelect},C.a.createElement(c.a,{type:"add"}))))),C.a.createElement(r.a,null,C.a.createElement(r.a.Header,{title:"点击一次选择多张"}),C.a.createElement(r.a.Body,null,C.a.createElement("div",{className:"uploader-wrapper"},this.fileRender("multiFiles"),a.length<T&&C.a.createElement(l.a,{multiple:!0,className:"uploader-btn",accept:"image/*",onBeforeSelect:n,onChange:this.onSelectMulti},C.a.createElement(c.a,{type:"add"}))))),C.a.createElement(r.a,null,C.a.createElement(r.a.Header,{title:"禁用状态"}),C.a.createElement(r.a.Body,null,C.a.createElement("div",{className:"uploader-wrapper"},C.a.createElement(l.a,{className:"uploader-btn",disabled:!0},C.a.createElement(c.a,{type:"add"}))))),C.a.createElement(i.a,t)),C.a.createElement(_.a,null))}}]),t}(w.Component);t.default=x},293:function(e,t,a){"use strict";var n=(a(267),a(289),a(330));a.n(n)},294:function(e,t,a){"use strict";var n=a(268),i=a.n(n),l=a(64),r=a.n(l),s=a(65),c=a.n(s),o=a(66),u=a.n(o),f=a(67),m=a.n(f),p=a(68),d=a.n(p),h=a(0),v=a.n(h),y=a(70),E=a.n(y),b=a(266),g=a.n(b),w=a(290),C=function(e){function t(e){c()(this,t);var a=m()(this,(t.__proto__||r()(t)).call(this,e));return a.enter=function(e){var t=e.stayTime,n=e.onMaskClick;a.setState({visible:!0}),0!==t&&(a.timer=setTimeout(function(){"function"==typeof n&&n(),a.leave(),clearTimeout(a.timer)},t))},a.leave=function(){a.setState({visible:!1});var e=a.props.onClose;"function"==typeof e&&e()},a.state={visible:e.visible||!1},a}return d()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.props.visible&&this.enter(this.props)}},{key:"componentWillReceiveProps",value:function(e){clearTimeout(this.timer),e.visible?this.enter(e):this.leave()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,n=e.mask,l=e.onMaskClick,r=e.children,s=this.state.visible,c=g()(""+t,a,i()({},t+"-open",s));return v.a.createElement("div",{className:c},v.a.createElement("div",{className:t+"-container"},r),n&&v.a.createElement(w.a,{type:"transparent",onClose:l}))}}]),t}(h.PureComponent);t.a=C,C.defaultProps={prefixCls:"za-toast",visible:!1,stayTime:3e3,mask:!1},C.show=function(e,t,a){E.a.render(v.a.createElement(C,{visible:!0,stayTime:t,onClose:a},e),window.zarmToast)},C.hide=function(){E.a.render(v.a.createElement(C,{visible:!1}),window.zarmToast)},window.zarmToast||(window.zarmToast=document.createElement("div"),document.body.appendChild(window.zarmToast)),E.a.render(v.a.createElement(C,{visible:!1}),window.zarmToast)},330:function(e,t){},331:function(e,t,a){"use strict";var n=(a(267),a(332));a.n(n)},332:function(e,t){},333:function(e,t,a){"use strict";var n=a(269),i=a.n(n),l=a(268),r=a.n(l),s=a(64),c=a.n(s),o=a(65),u=a.n(o),f=a(66),m=a.n(f),p=a(67),d=a.n(p),h=a(68),v=a.n(h),y=a(274),E=a.n(y),b=a(0),g=a.n(b),w=a(266),C=a.n(w),k=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof E.a)for(var i=0,n=E()(e);i<n.length;i++)t.indexOf(n[i])<0&&(a[n[i]]=e[n[i]]);return a},N=function(e){function t(){return u()(this,t),d()(this,(t.__proto__||c()(t)).apply(this,arguments))}return v()(t,e),m()(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.className,l=t.theme,s=t.shape,c=t.sup,o=t.text,u=t.children,f=k(t,["prefixCls","className","theme","shape","sup","text","children"]),m=C()(""+a,n,(e={},r()(e,"theme-"+l,!!l),r()(e,"shape-"+s,!!s),e)),p=C()(a+"-sup",r()({},a+"-sup-up",c));return g.a.createElement("span",{className:m},u,g.a.createElement("sup",i()({className:p},f),o))}}]),t}(b.PureComponent);t.a=N,N.defaultProps={prefixCls:"za-badge",theme:"error",sup:!1}},394:function(e,t,a){"use strict";var n=(a(267),a(395));a.n(n)},395:function(e,t){},396:function(e,t,a){"use strict";var n=a(64),i=a.n(n),l=a(65),r=a.n(l),s=a(66),c=a.n(s),o=a(67),u=a.n(o),f=a(68),m=a.n(f),p=a(0),d=a.n(p),h=a(266),v=a.n(h),y=a(397),E=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));return a.handleDefaultInput=function(e){e.target.value=null;var t=a.props,n=t.onBeforeSelect,i=t.disabled;"function"==typeof n&&(!1===n()||i)&&e.preventDefault()},a.handleClick=function(){a.file.click()},a.handleChange=function(e){var t=a.props,n=t.onChange,i=t.quality,l=t.multiple,r=[].slice.call(e.target.files),s=[],c=function(e){l?(s.push(e),r.length===s.length&&"function"==typeof n&&n(s)):"function"==typeof n&&n(e)};r&&r.map(function(e){return Object(y.a)({file:e,quality:i},c)})},a.state={fileList:[]},a}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,n=t.className,i=t.multiple,l=t.accept,r=t.capture,s=t.disabled,c=t.children,o=v()(a,n,{disabled:s});return d.a.createElement("div",{className:o},d.a.createElement("input",{className:a+"-input",type:"file",ref:function(t){e.file=t},accept:l,multiple:i,capture:r,onClick:this.handleDefaultInput,onChange:this.handleChange}),d.a.createElement("span",{className:a+"-trigger",onClick:this.handleClick}),c)}}]),t}(p.PureComponent);t.a=E,E.defaultProps={prefixCls:"za-uploader",disabled:!1,multiple:!1,onBeforeSelect:function(){return!0}}},397:function(e,t,a){"use strict";function n(e,t){var a=e.file,n=e.quality,r=Object(i.a)(a),s=r.fileSize,c=r.fileType,o=r.isPic,u=r.fileName,f={file:a,fileType:c,fileSize:s,fileName:u,thumbnail:""},m=function(e){f.thumbnail=e,t(f)};o?Object(l.a)({file:a,quality:n,fileType:c},m):t(f)}t.a=n;var i=a(398),l=a(400)},398:function(e,t,a){"use strict";function n(e){var t=e.size,a=e.name,n=e.type||a.substr(a.lastIndexOf(".")+1);return{fileName:a,fileSize:t,fileType:n,isPic:Object(i.a)(n)}}t.a=n;var i=a(399)},399:function(e,t,a){"use strict";function n(e){var t=/image.*/;return!!e.match(t)}t.a=n},400:function(e,t,a){"use strict";function n(e,t){var a=e.file,n=e.quality,l=e.fileType,r=e.maxWidth,s=e.maxHeight,c=document.createElement("img");window.URL=window.URL||window.webkitURL,c.src=window.URL.createObjectURL(a),c.onload=function(){var e=void 0;e=n||r||s?Object(i.a)(c,n,l):c.src,t(e)}}t.a=n;var i=a(401)},401:function(e,t,a){"use strict";function n(e,t,a){var n=document.createElement("canvas"),i=n.getContext("2d");if(!i)return e;var l=e.width,r=e.height;return n.width=l,n.height=r,i.fillStyle="#fff",i.fillRect(0,0,n.width,n.height),i.drawImage(e,0,0,l,r),t>0&&t<=1||console.error("请输入有效的压缩比例, 没有将默认使用 0.92"),n.toDataURL(a,t)}t.a=n},402:function(e,t){}});